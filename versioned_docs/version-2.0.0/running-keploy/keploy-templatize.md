---
id: keploy-templatize
title: Keploy 模板化功能
sidebar_label: Keploy 模板化功能
description: 本文档介绍如何将测试集模板化
tags:
  - keploy
  - keploy 模板化
keywords:
  - keploy
  - 文档
  - 运行指南
---

有时 keploy 测试和 keploy 重新录制会失败，因为存在一些干扰字段，但这些字段被用于请求中，当它们的值发生变化时，后续请求也会失败。

例如：如果应用程序在某个测试用例的响应中返回了一个 JWT 令牌，而该令牌被用于另一个测试用例的请求中，那么当新令牌被签发且测试仍在使用已过期的旧令牌时，该测试用例也会失败。

模板化功能，顾名思义，会将测试用例模板化。现在 JWT 令牌的原始值将被替换为模板，既出现在一个测试用例的响应中，也出现在另一个测试用例的请求中。同时会创建一个配置文件，其中包含模板键与其值的映射。在测试模式或重新录制模式下，每当在模板位置签发新令牌时，它会更新映射中的模板值，并在后续出现模板的测试用例中使用该值。

## Keploy 模板化示例

您可以使用以下命令将测试集模板化：

```zsh
sudo -E env 'PATH=$PATH' keploy templatize
```

默认情况下，它会模板化 keploy 文件夹中的所有测试集。如果您想模板化特定的测试集，可以传递测试集标志，例如：

```zsh
sudo -E env 'PATH=$PATH' keploy templatize -t="test-set-1"
```

> **注意**
>
> 尽管您可以多次使用模板化功能，甚至可以对已经模板化的测试集再次使用，但该过程不可逆。因此请确保在尝试前先创建 keploy 文件夹的备份。