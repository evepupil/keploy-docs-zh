---
id: unit-test-architecture
title: 幕后揭秘
sidebar_label: 幕后揭秘
description: Keploy基于AI的单元测试架构工作原理
tags:
  - 单元测试
  - 架构
  - 人工智能
  - 工作流
---

# 🏗️ 单元测试架构

规模化单元测试不仅仅是编写独立测试用例——它需要构建一个能够以最少人工生成、筛选和审查测试的工作流。  
以下是Keploy如何利用AI（大语言模型）实现单元测试流程自动化与优化：

![Keploy单元测试架构](https://res.cloudinary.com/dfhtr1rwo/image/upload/v1748780535/keploy-utg-arch_rv2rhz.png)

> _该图表展示了Keploy基于AI的单元测试架构端到端工作流_

---

## 核心工作原理

- **CI问题作为输入：** 流程始于CI管道检测到的问题
- **LLM生成缺陷：** 系统基于代码和当前问题，使用AI生成潜在缺陷
- **构建与测试：** 验证这些缺陷能否构建并通过/失败测试
- **筛选与去重：** 自动移除语法相同或等价的缺陷
- **测试生成：** 针对独特缺陷，LLM创建专门设计的捕获测试
- **自动审查：** 测试自动验证——剔除不稳定或无关项
- **差异摘要与测试计划：** 自动生成最终测试和摘要，交由PR Agent进行CI审查

---

## 核心价值

Keploy的AI驱动架构将CI反馈和代码库转化为健壮、可扩展的单元测试集——为您节省大量时间，并在回归问题影响生产环境前及时捕获。