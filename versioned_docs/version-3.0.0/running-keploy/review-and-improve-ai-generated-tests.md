---
id: review-and-improve-ai-generated-tests
title: å®¡æŸ¥ä¸ä¼˜åŒ–AIç”Ÿæˆçš„APIæµ‹è¯•
sidebar_label: å®¡æŸ¥ä¸ä¼˜åŒ–æµ‹è¯•
description: å­¦ä¹ å¦‚ä½•æ£€æŸ¥ã€ç¼–è¾‘ã€è‡ªä¿®å¤å’Œå¢å¼ºKeployçš„AIç”ŸæˆAPIæµ‹è¯•å¥—ä»¶ï¼Œä»¥å®ç°æœ€å¤§è¦†ç›–ç‡å’Œå¯é æ€§ã€‚
---

ä½¿ç”¨Keployçš„AIå¼•æ“ç”Ÿæˆåˆå§‹æµ‹è¯•å¥—ä»¶åï¼Œä¸‹ä¸€æ­¥æ˜¯å®¡æŸ¥ã€ä¼˜åŒ–å’Œå¼ºåŒ–è¿™äº›æµ‹è¯•ï¼Œä»¥ç¡®ä¿å®ƒä»¬åœ¨APIæ¼”è¿›è¿‡ç¨‹ä¸­ä¿æŒå¯ä¿¡èµ–æ€§ã€‚

## æ‰“å¼€æµ‹è¯•å®¡æŸ¥å·¥ä½œåŒº

å‰å¾€Keployæ§åˆ¶å° â†’ APIæµ‹è¯•ç”Ÿæˆ â€º æµ‹è¯•å¥—ä»¶
æ ¹æ®æ‰€é€‰åº”ç”¨ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹è¯¥åº”ç”¨çš„æµ‹è¯•å¥—ä»¶

## æŒ‰çŠ¶æ€ã€æ–¹æ³•å’Œç«¯ç‚¹ç­›é€‰

ä½¿ç”¨å·¦ä¾§**æµ‹è¯•å¥—ä»¶**é¢æ¿ä¸­çš„**ç­›é€‰é€‰é¡¹**æ ï¼Œå°†å¤§å‹å¥—ä»¶ç²¾ç¡®ç­›é€‰è‡³æ‰€éœ€å†…å®¹ï¼š

| **ç­›é€‰æ ‡ç­¾**  | **åŠŸèƒ½è¯´æ˜**                                                                           |
| --------------- | ------------------------------------------------------------------------------------------ |
| **çŠ¶æ€ç ** | è¾“å…¥`2`åˆ—å‡ºæ‰€æœ‰2xxçŠ¶æ€ç ï¼Œ`30`ç­›é€‰é‡å®šå‘ï¼Œæˆ–ç²¾ç¡®ä»£ç å¦‚`404`ã€‚               |
| **HTTPæ–¹æ³•** | åˆ‡æ¢ä»¥éš”ç¦»`GET`ã€`POST`ã€`PUT`ã€`DELETE`ç­‰æ–¹æ³•ã€‚                         |
| **ç«¯ç‚¹**    | è¾“å…¥è·¯å¾„ç‰‡æ®µï¼ˆå¦‚`/orders`ã€`/auth`ï¼‰å³æ—¶ç¼©å°åŒ¹é…èŒƒå›´ã€‚ |

å¯**ç»„åˆä½¿ç”¨è¿™äº›ç­›é€‰å™¨**ä¸æœç´¢æ â€”â€”ä¾‹å¦‚ä»…æŸ¥çœ‹`/employees`è·¯å¾„ä¸Šå¤±è´¥çš„`DELETE`è°ƒç”¨â€”â€”è½»æ¾å¤„ç†å¤§å‹æµ‹è¯•å¥—ä»¶ã€‚

## ç¼–è¾‘æµ‹è¯•æ­¥éª¤â€”â€”è¯·æ±‚ä¸æ–­è¨€

Keployå…è®¸æ‚¨é€šè¿‡å•ä¸€æ¨¡æ€çª—å£ä¼˜åŒ–**è¯·æ±‚å®šä¹‰**å’Œ**æ–­è¨€**ï¼š

1. ç‚¹å‡»ä»»æ„æ­¥éª¤å¡ä¸Šçš„âœï¸**ç¼–è¾‘**å›¾æ ‡ã€‚
2. æ¨¡æ€çª—å£å°†æ˜¾ç¤ºä¸¤ä¸ªæ ‡ç­¾é¡µï¼š

### ğŸ“¨ è¯·æ±‚è¯¦æƒ…

- æ›´æ”¹HTTPæ–¹æ³•ï¼ˆ`GET`ã€`POST`ç­‰ï¼‰
- æ›´æ–°URLè·¯å¾„
- é€šè¿‡`ï¼‹æ·»åŠ è¯·æ±‚å¤´`å¢åˆ è¯·æ±‚å¤´
- ç¼–è¾‘è¯·æ±‚ä½“ï¼ˆJSONã€è¡¨å•æ•°æ®ç­‰ï¼‰

### âœ… æ–­è¨€

- ä½¿ç”¨`ï¼‹æ·»åŠ æ–­è¨€`è¿½åŠ æ–°æ£€æŸ¥é¡¹
- é€‰æ‹©æ–­è¨€ç±»å‹ï¼š
  - çŠ¶æ€ç 
  - è¯·æ±‚å¤´å®Œå…¨åŒ¹é…/åŒ…å«
  - Body JSONPath
  - æ­£åˆ™è¡¨è¾¾å¼
  - æ•°å€¼æ¯”è¾ƒ`>`/`<`ç­‰
- å³æ—¶ä¿®æ”¹æ¯”è¾ƒå™¨æˆ–æœŸæœ›å€¼

### ä¿å­˜ä¸å›æ»š

ç‚¹å‡»**ä¿å­˜æ›´æ”¹**â€”â€”æ‰€æœ‰ç¼–è¾‘å‡å—ç‰ˆæœ¬æ§åˆ¶ï¼Œå¯éšæ—¶å›æ»šã€‚

## ğŸ“š æ–­è¨€ç±»å‹ä¸ç¤ºä¾‹

KeployåŸç”Ÿæ”¯æŒä¹ç§æ–­è¨€ç±»å‹ã€‚  
æŒ‰éœ€ç»„åˆä½¿ç”¨â€”â€”ä»¥ä¸‹æ‰€æœ‰ç¤ºä¾‹å¯å…±å­˜äºåŒä¸€æµ‹è¯•æ­¥éª¤çš„`assertions:`æ•°ç»„ä¸­ã€‚

| **ç±»å‹**              | **éªŒè¯å†…å®¹**                                     | **YAMLç‰‡æ®µ**                                                                                           | **é€šè¿‡ç¤ºä¾‹**                                                          |
| --------------------- | ------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------- |
| **çŠ¶æ€ç **       | å“åº”ç å®Œå…¨åŒ¹é…æŒ‡å®šæ•°å€¼ã€‚                  | `yaml<br>- type: status_code<br>  comparator: equal<br>  expected: 201<br>`                                | `POST /users`è¿”å›**201 Created**                                        |
| **çŠ¶æ€ç ç±»åˆ«** | å“åº”ç å±äºæŸç±»åˆ«ï¼ˆ2xxã€3xxç­‰ï¼‰ã€‚       | `yaml<br>- type: status_code_class<br>  comparator: equal<br>  expected: 2xx<br>`                          | `PATCH /users/42` â†’ **204 No Content**                                       |
| **çŠ¶æ€ç åŒ…å«**    | å“åº”ç ä½äºç™½åå•ä¸­ã€‚          | `yaml<br>- type: status_code_in<br>  expected: [200, 201, 202]<br>`                                        | ä¸Šä¼ APIå¯èƒ½è¿”å›**202 Accepted**è¡¨ç¤ºå¼‚æ­¥å¤„ç†ä¸­          |
| **JSONå…¨ç­‰**        | **å®Œæ•´**JSONä½“å®Œå…¨åŒ¹é…ï¼ˆé¡ºåºæ— å…³ï¼‰ã€‚ | `yaml<br>- type: json_equal<br>  expected:<br>    id: 42<br>    status: "shipped"<br>`                     | ä»“åº“æœåŠ¡è¿”å›`{ "status": "shipped", "id": 42 }`                |
| **JSONåŒ…å«**     | å“åº”ä½“**åŒ…å«**ç‰¹å®šå­—æ®µ/å€¼å­é›†ã€‚           | `yaml<br>- type: json_contains<br>  expected:<br>    status: "error"<br>    message: "invalid token"<br>`  | è®¤è¯æœåŠ¡è¿”å›çš„é•¿é”™è¯¯è´Ÿè½½ä¸­**åŒ…å«**è¿™ä¸¤ä¸ªå­—æ®µ |
| **è¯·æ±‚å¤´åŒ…å«**   | ç‰¹å®šè¯·æ±‚å¤´**åŒ…å«**å­å­—ç¬¦ä¸²ã€‚              | `yaml<br>- type: header_contains<br>  field: content-type<br>  expected: json<br>`                         | `content-type: application/**json**; charset=utf-8`                          |
| **è¯·æ±‚å¤´å…¨ç­‰**      | è¯·æ±‚å¤´å€¼å®Œå…¨åŒ¹é…ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ã€‚       | `yaml<br>- type: header_equal<br>  field: cache-control<br>  expected: "no-store"<br>`                     | `cache-control: No-Store`ï¼ˆå¤§å°å†™æ— å…³ï¼‰                              |
| **è¯·æ±‚å¤´å­˜åœ¨**     | è¯·æ±‚å¤´é”®å­˜åœ¨ï¼ˆå¿½ç•¥å€¼ï¼‰ã€‚                 | `yaml<br>- type: header_exists<br>  field: x-request-id<br>`                                               | åå‘ä»£ç†æ³¨å…¥`x-request-id: 4b087â€¦`                                 |
| **è¯·æ±‚å¤´åŒ¹é…**    | è¯·æ±‚å¤´å€¼åŒ¹é…**æ­£åˆ™**æ¨¡å¼ã€‚              | `yaml<br>- type: header_matches<br>  field: set-cookie<br>  pattern: "sessionId=.*; Path=/; HttpOnly"<br>` | `set-cookie: sessionId=abc123; Path=/; HttpOnly; SameSite=Lax`               |

> **æŠ€å·§**  
> åœ¨å•æ¬¡è¯·æ±‚ä¸­ç»„åˆå¤šä¸ªæ–­è¨€ï¼ŒåŒæ—¶éªŒè¯çŠ¶æ€ç ã€è¯·æ±‚å¤´**å’Œ**å“åº”ä½“ã€‚æ¯ä¸ªæ–­è¨€ç‹¬ç«‹è¯„ä¼°ï¼Œå¤±è´¥æ—¶èƒ½ç²¾ç¡®å®šä½é—®é¢˜ç‚¹ã€‚

## ç¼–è¾‘ä¸ç®¡ç†æµ‹è¯•å¥—ä»¶

åœ¨æµ‹è¯•å¥—ä»¶åˆ—è¡¨ä¸­ï¼Œæ‚¬åœä»»æ„è¡Œå¯æ˜¾ç¤ºï¸™ï¼ˆæ›´å¤šé€‰é¡¹ï¼‰èœå•ï¼š

**ï¸™èœå•**ï¼šæ‚¬åœä»»æ„å¥—ä»¶è¡Œæ˜¾ç¤ºé€‰é¡¹ï¼š

- **æ·»åŠ æµ‹è¯•å¥—ä»¶**â€”â€”åˆ›å»ºæ–°å¥—ä»¶å¹¶èµ‹äºˆæ¸…æ™°æè¿°æ€§æ ‡é¢˜ã€‚
- **é€‰æ‹©æµ‹è¯•å¥—ä»¶**â€”â€”é€‰æ‹©ç°æœ‰å¥—ä»¶ç”¨äºè¿è¡Œæˆ–ä¿®æ”¹ã€‚
- **ç¼–è¾‘æµ‹è¯•å¥—ä»¶**â€”â€”æ›´æ–°å¥—ä»¶åç§°ã€æè¿°æˆ–åŒ…å«çš„æµ‹è¯•ã€‚
- **åˆ é™¤æµ‹è¯•å¥—ä»¶**â€”â€”æ°¸ä¹…ç§»é™¤ä¸å†éœ€è¦çš„å¥—ä»¶ã€‚

æ‰€æœ‰æ›´æ”¹å³æ—¶ä¿å­˜å¹¶è®°å½•ã€‚
âš ï¸ åˆ é™¤æ“ä½œä¸å¯é€†ã€‚å¯é€šè¿‡Gitå†å²è®°å½•æˆ–å¤‡ä»½æ¢å¤ã€‚